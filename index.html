<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hồ Sơ Cá Nhân</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script type="importmap">
    {
        "imports": {
            "@google/generative-ai": "https://esm.run/@google/generative-ai"
        }
    }
    </script>
</head>
<body class="bg-gray-100 font-roboto">
    <!-- Navbar -->
    <nav class="bg-white shadow-md fixed top-0 left-0 right-0 z-40">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <img src="https://www.citypng.com/public/uploads/preview/threads-app-black-logo-icon-png-735811696672465sppjeyghwv.png" alt="Logo" class="h-8 w-8">
                <h1 class="text-xl font-bold text-gray-800 hidden md:block">Hồ Sơ Cá Nhân</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div id="aiSearchBox" class="relative">
                    <input 
                        type="text" 
                        placeholder="Hỏi Với AI" 
                        class="bg-gray-100 rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
                    >
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mx-auto px-4 pt-20 flex flex-col md:flex-row">
        <!-- Left Sidebar -->
        <div class="w-full md:w-1/4 md:pr-6 mb-6 md:mb-0">
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <img 
                    src="https://avatars.githubusercontent.com/u/126393227?v=4" 
                    alt="Profile Picture" 
                    class="w-32 h-32 rounded-full mx-auto mb-4 object-cover border-4 border-gray-200"
                >
                <h2 class="text-xl font-bold">Nguyễn Văn A</h2>
                <p class="text-gray-600">Nhà phát triển & Sáng tạo nội dung</p>

                <div class="grid grid-cols-3 gap-4 mt-6">
                    <!-- Social Media Links -->
                    <a href="#" target="_blank" class="hover:bg-gray-100 p-2 rounded-lg">
                        <img src="https://www.citypng.com/public/uploads/preview/threads-app-black-logo-icon-png-735811696672465sppjeyghwv.png" class="w-8 h-8 mx-auto" alt="Threads">
                    </a>
                    <a href="#" target="_blank" class="hover:bg-gray-100 p-2 rounded-lg">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b9/2023_Facebook_icon.svg/2048px-2023_Facebook_icon.svg.png" class="w-8 h-8 mx-auto" alt="Facebook">
                    </a>
                    <a href="#" target="_blank" class="hover:bg-gray-100 p-2 rounded-lg">
                        <img src="https://static.vecteezy.com/system/resources/previews/016/716/450/non_2x/tiktok-icon-free-png.png" class="w-8 h-8 mx-auto" alt="TikTok">
                    </a>
                    <a href="#" target="_blank" class="hover:bg-gray-100 p-2 rounded-lg">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Telegram_2019_Logo.svg/2048px-Telegram_2019_Logo.svg.png" class="w-8 h-8 mx-auto" alt="Telegram">
                    </a>
                    <a href="#" target="_blank" class="hover:bg-gray-100 p-2 rounded-lg">
                        <img src="https://cdn-icons-png.flaticon.com/512/25/25231.png" class="w-8 h-8 mx-auto" alt="GitHub">
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Content Area -->
        <div class="w-full md:w-3/4">
            <div class="bg-white rounded-lg shadow-md p-6 mb-6">
                <h3 class="text-xl font-semibold mb-4">Giới Thiệu</h3>
                <p class="text-gray-700">Chào mừng bạn đến với hồ sơ cá nhân của tôi! Tôi là một nhà phát triển đam mê công nghệ, không ngừng học hỏi và sáng tạo trong lĩnh vực công nghệ thông tin.</p>

                <h3 class="text-xl font-semibold mt-6 mb-4">Dự Án Nổi Bật</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <h4 class="font-semibold">Dự Án Web</h4>
                        <p class="text-sm text-gray-600">Ứng dụng quản lý dự án hiện đại</p>
                    </div>
                    <div class="bg-gray-100 p-4 rounded-lg">
                        <h4 class="font-semibold">Ứng Dụng Di Động</h4>
                        <p class="text-sm text-gray-600">Giải pháp theo dõi sức khỏe</p>
                    </div>
                </div>
            </div>

            <!-- AI Chat Popup -->
            <div id="aiChatPopup" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden items-center justify-center">
                <div class="bg-white rounded-lg w-full md:w-[600px] max-w-xl flex flex-col mx-auto h-[80vh] overflow-hidden shadow-lg">
                    <!-- Popup Header -->
                    <div class="flex justify-between items-center p-4 border-b">
                        <h2 class="text-xl font-bold">Hỏi Với AI</h2>
                        <button id="closePopup" class="text-gray-500 hover:text-gray-700 focus:outline-none">
                            <!-- Close Icon -->
                            &times;
                        </button>
                    </div>

                    <!-- Chat Messages Area -->
                    <div id="chatMessages" class="flex-grow overflow-y-auto p-4 space-y-4 bg-gray-50">
                        <!-- Messages will be dynamically added here -->
                    </div>

                    <!-- Chat Input -->
                    <div class="p-4 border-t bg-white flex items-center space-x-2">
                        <input 
                            type="text" 
                            id="chatInput" 
                            placeholder="Nhập câu hỏi của bạn..." 
                            class="flex-grow bg-gray-100 rounded-full px-4 py-[10px] focus:outline-none focus:ring focus:ring-blue"
                        >
                        <button id="sendMessage" class="bg-blue-500 text-white rounded-full p-[10px] hover:bg-blue-dark transition duration-[150ms] ease-in-out focus:outline-none flex items-center justify-center w-[40px] h-[40px]">
                            <!-- Send Icon -->
                            &rarr;
                        </button>
                    </div>
                </div>
            </div>

        </div>        
    </div>

    <!-- JavaScript for AI Chat Functionality -->
    <script type='module'>
        import { GoogleGenerativeAI } from "@google/generative-ai";

        const API_KEY = "AIzaSyC-V3EfjLTDmJR5CTymMHDnqRp2VlrLX5E";
        const genAI = new GoogleGenerativeAI(API_KEY);
        const model = genAI.getGenerativeModel({ model: "gemini-v1.5-flash" });

        const aiSearchBox = document.getElementById('aiSearchBox');
        const aiChatPopup = document.getElementById('aiChatPopup');
        const closePopupBtn = document.getElementById('closePopup');
        const chatInput = document.getElementById('chatInput');
        const sendMessageBtn = document.getElementById('sendMessage');
        const chatMessages = document.getElementById('chatMessages');

        aiSearchBox.addEventListener('click', () => {
            aiChatPopup.classList.remove('hidden');
            aiChatPopup.classList.add('flex');
        });

        closePopupBtn.addEventListener('click', () => {
            aiChatPopup.classList.remove('flex');
            aiChatPopup.classList.add('hidden');
        });

        function addMessage(text, type) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add(
                'p-[10px]', 
                'rounded-lg', 
                type === 'user' ? 'bg-blue-light self-end' : 'bg-gray-light self-start'
            );
            messageDiv.textContent = text;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        async function sendMessage() {
            const message = chatInput.value.trim();
            if (message) {
                addMessage(message, 'user');
                chatInput.value = '';

                try {
                    const result = await model.generateContent(message);
                    const response = await result.response;
                    const text = await response.text();
                    
                    addMessage(text, 'ai');
                } catch (error) {
                    console.error("Lỗi:", error);
                    addMessage('Xin lỗi, đã xảy ra lỗi. Vui lòng thử lại.', 'ai');
                }
            }
        }

        sendMessageBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
                            </html>
